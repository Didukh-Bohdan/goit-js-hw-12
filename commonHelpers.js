import{a as B,S as h,i as c}from"./assets/vendor-CVqJO7b2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();const I="42306432-61ab7fb6a7e28dda5f126fb86";async function y(r,t=1,e=15){try{return(await B.get(`https://pixabay.com/api/?key=${I}&q=${r}&page=${t}&per_page=${e}`)).data}catch(s){throw console.error("Error fetching data:",s),s}}const b=document.getElementById("loader"),$=document.getElementById("gallery"),P=new h(".gallery a"),m=document.getElementById("loadMoreBtn");function g(r,t){if(t&&(b.style.display="none"),r.length===0){c.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),l();return}r.forEach(e=>{const s=document.createElement("div");s.classList.add("card"),s.innerHTML=`
            <a href="${e.largeImageURL}" data-lightbox="gallery">
                <img src="${e.webformatURL}" alt="${e.tags}">
            </a>
            <p>Likes: ${e.likes}</p>
            <p>Views: ${e.views}</p>
            <p>Comments: ${e.comments}</p>
            <p>Downloads: ${e.downloads}</p>
        `,$.appendChild(s)}),P.refresh()}function l(){m.style.display="none"}function v(){m.style.display="block"}function f(){c.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})}const O=document.getElementById("loader"),M=document.getElementById("gallery");new h(".gallery a");const A=document.getElementById("loadMoreBtn"),S=document.getElementById("searchForm"),p=document.getElementById("searchInput"),E="block",L="none",D=15;function d(r){O.style.display=r}let a=1,i=!1;S.addEventListener("submit",async function(r){r.preventDefault();const t=p.value.trim();if(t===""){c.error({title:"Error",message:"Please enter a search term"});return}d(E),M.innerHTML="",a=1,i=!1;try{const e=await y(t,a);g(e.hits,!0),e.hits.length===0?(l(),f()):(v(),a++,w())}catch(e){console.error("Error fetching data:",e),c.error({title:"Error",message:"An error occurred while fetching data. Please try again."})}finally{d(L)}});A.addEventListener("click",async function(){try{if(i){l(),f();return}const r=p.value.trim();d(E);const t=await y(r,a);t.hits.length===0?(i=!0,l(),f()):(g(t.hits,!1),a++,w()),t.totalHits<=a*D&&(i=!0,l())}catch(r){console.error("Error fetching data:",r),c.error({title:"Error",message:"An error occurred while fetching more data. Please try again."})}finally{d(L)}});function w(){var t,e;const r=(e=(t=document.querySelector(".card"))==null?void 0:t.getBoundingClientRect())==null?void 0:e.height;r&&window.scrollBy({top:r*2,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
