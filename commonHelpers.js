import{a as g,S as p,i as d}from"./assets/vendor-CVqJO7b2.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=e(t);fetch(t.href,a)}})();const E="42306432-61ab7fb6a7e28dda5f126fb86";async function w(o,r=1,e=15){try{return(await g.get(`https://pixabay.com/api/?key=${E}&q=${o}&page=${r}&per_page=${e}`)).data}catch(n){throw console.error("Error fetching data:",n),n}}const L=document.getElementById("loader"),b=document.getElementById("gallery"),I=new p(".gallery a"),f=document.getElementById("loadMoreBtn");function $(o,r){if(L.style.display="none",o.length===0){d.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),u();return}r&&y(),o.forEach(e=>{const n=document.createElement("div");n.classList.add("card"),n.innerHTML=`
            <a href="${e.largeImageURL}" data-lightbox="gallery">
                <img src="${e.webformatURL}" alt="${e.tags}">
            </a>
            <p>Likes: ${e.likes}</p>
            <p>Views: ${e.views}</p>
            <p>Comments: ${e.comments}</p>
            <p>Downloads: ${e.downloads}</p>
        `,b.appendChild(n)}),I.refresh()}function u(){f.style.display="none"}function y(){f.style.display="block"}function B(){d.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})}const M=document.getElementById("searchForm"),m=document.getElementById("searchInput"),i=document.getElementById("loader"),P=document.getElementById("gallery"),v=document.getElementById("loadMoreBtn");let s=1;const l=15;M.addEventListener("submit",async function(o){o.preventDefault();const r=m.value.trim();if(r===""){iziToast.error({title:"Error",message:"Please enter a search term"});return}i.style.display="block",P.innerHTML="";try{s=1,await h(r,s)}catch(e){i.style.display="none",console.error("Error fetching data:",e),iziToast.error({title:"Error",message:"An error occurred while fetching data. Please try again."})}});v.addEventListener("click",async()=>{try{const o=m.value.trim();await h(o,s)}catch(o){console.error("Error fetching data:",o),iziToast.error({title:"Error",message:"An error occurred while fetching more data. Please try again."})}});async function h(o,r){try{const e=await w(o,r,l),n=e.totalHits<=r*l;$(e.hits,r===1),e.hits.length===0||n?(u(),n&&B()):(y(),s++)}catch(e){throw console.error("Error fetching data:",e),e}finally{i.style.display="none"}}
//# sourceMappingURL=commonHelpers.js.map
